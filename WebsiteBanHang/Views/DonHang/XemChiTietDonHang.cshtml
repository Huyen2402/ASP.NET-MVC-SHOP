@using WebsiteBanHang.Models
@model List<ChiTietDonDatHang>


@{
    ViewBag.Title = "XemChiTietDonHang";
    Layout = "~/Views/Layout/SearchLayout.cshtml";
    string MaDDH = ViewBag.MaDDH;
}

<div id="chitiet" class="container mt-3">

    <h1 class="text-center">Chi tiết đơn hàng @MaDDH</h1>

    <table class="table table-light table-hover table-bordered " style="z-index:99999;">
        <thead>
            <tr>
                <th>STT</th>

                <th>Tên Sản Phẩm</th>
                <th>Hình Ảnh</th>
                <th>Số Lượng</th>
                <th>Đơn giá</th>
                <th>Đánh giá sản phẩm</th>
                @*<th>Thao Tác</th>*@

            </tr>
        </thead>
        <tbody>

            @foreach (var item in Model)
            {
                decimal? tien = item.DonGia;



                <tr>
                    <td>@item.MaChiTietDDH1</td>

                    <td>@item.TenSP</td>
                    <td ><img class="img-report"  src="@Url.Content("~/Content/images/"+item.SanPham.HinhAnh)" alt="Alternate Text" /></td>
                    <td>@item.SoLuong</td>

                    <td>@tien.Value.ToString("#,##0")</td>
                    <td style="display: none">
                        <input class="valDanhGia" data-id="@item.MaDDH" type="hidden" id="txb-idDDH" name="name" value="@item.DanhGia" />
                    </td>



                    @*<td>
            <a href="@Url.Action("XemChiTietDonHang","Admin", new { @MaDDH = item.MaDDH })" class="btn btn-success">Xác Nhận</a>
            <a href="@Url.Action("XemChiTietDonHang","Admin", new { @MaDDH = item.MaDDH })" class="btn btn-danger">Huỷ</a>
        </td>*@

                    <td>

                        <div class="stars">
                            <form action="">
                                @*<input class="star star-5" id="star-5" type="radio" name="star" />*@
                                <label data-start="5" class="star 5 star-5" for="star-5"></label>
                                @*<input class="star star-4" id="star-4" type="radio" name="star" />*@
                                <label data-start="4" class="star 4 star-4" for="star-4"></label>
                                @*<input class="star star-3" id="star-3" type="radio" name="star" />*@
                                <label data-start="3" class="star 3 star-3" for="star-3"></label>
                                @*<input class="star star-2" id="star-2" type="radio" name="star" />*@
                                <label data-start="2" class="star 2 star-2" for="star-2"></label>
                                @*<input class="star star-1" id="star-1" type="radio" name="star" />*@
                                <label data-start="1" class="star 1 star-1" for="star-1"></label>
                            </form>
                        </div>
                    </td>



                </tr>


            }

        </tbody>
    </table>
</div>
<style>
    .img-report{
        width: 250px;
    }
    div.stars {
        display: inline-block;
    }

    input.star {
        display: none;
    }

    label.star {
        float: right;
        padding: 10px;
        font-size: 13px;
        color: #444;
        transition: all .2s;
    }

    input.star:checked ~ label.star:before {
        content: '\f005';
        color: #FD4;
        transition: all .25s;
    }

    input.star-5:checked ~ label.star:before {
        color: #FE7;
        text-shadow: 0 0 20px #952;
    }

    input.star-1:checked ~ label.star:before {
        color: #F62;
    }

    label.star:hover {
        transform: rotate(-15deg) scale(1.3);
    }

    label.star:before {
        content: '\f006';
        font-family: FontAwesome;
    }

</style>
<script>
    var arr = []
    $(".star").click(function () {

        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                Swal.fire(
                    'Deleted!',
                    'Your file has been deleted.',
                    'success'
                )
            }
        })


        var start = $(this).attr("data-start")
       
        console.log(start)

        for (var i = 1; i <= start ; i++) {
            $("."+i).css("background-color", "yellow");
        }
    })
    
    var valDanhGia = $(".valDanhGia").val();

</script>

